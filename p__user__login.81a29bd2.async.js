(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"3T1H":function(oe,M,s){"use strict";s.r(M);var re=s("DYRE"),C=s("zeV3"),le=s("Znn+"),O=s("ZTPi"),ue=s("miYZ"),p=s("tsqr"),X=s("o0o1"),i=s.n(X),j=s("VTBJ"),_=s("HaE+"),U=s("ODXe"),de=s("fOrg"),S=s("+KLJ"),e=s("nKUr"),B=s("cJ7L"),I=s("MGYb"),G=s("FQ2w"),z=s("cGnJ"),J=s("Y0UT"),$=s("80zm"),V=s("CZrw"),b=s("q1tI"),Y=s("VMEa"),R=s("Qurx"),Z=s("/aGu"),K=s("tneF"),n=s("9kvl"),W=s("55Ip"),w=s("CwrG"),L=s("63rs"),t={container:"container___2XU-J",lang:"lang___3UZBu",content:"content___232he",top:"top___2e5qd",header:"header___1G_uO",logo:"logo___2RIUt",title:"title___3xYCK",desc:"desc___1GQtf",main:"main___oMoRI",icon:"icon___1dSHb",other:"other___3ljbI",register:"register___1vN_i",prefixIcon:"prefixIcon___57iuX"},x=function(m){var c=m.content;return Object(e.jsx)(S.a,{style:{marginBottom:24},message:c,type:"error",showIcon:!0})},H=function(){if(!n.history)return;setTimeout(function(){var m=n.history.location.query,c=m,h=c.redirect;n.history.push(h||"/")},10)},Q=function(){var m=Object(b.useState)(!1),c=Object(U.a)(m,2),h=c[0],T=c[1],k=Object(b.useState)({}),P=Object(U.a)(k,2),N=P[0],q=P[1],ee=Object(b.useState)("account"),A=Object(U.a)(ee,2),f=A[0],se=A[1],F=Object(n.useModel)("@@initialState"),E=F.initialState,ae=F.setInitialState,u=Object(n.useIntl)(),te=function(){var d=Object(_.a)(i.a.mark(function o(){var r,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E==null||((r=E.fetchUserInfo)===null||r===void 0)?void 0:r.call(E);case 2:l=a.sent,l&&ae(Object(j.a)(Object(j.a)({},E),{},{currentUser:l}));case 4:case"end":return a.stop()}},o)}));return function(){return d.apply(this,arguments)}}(),ne=function(){var d=Object(_.a)(i.a.mark(function o(r){var l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T(!0),a.prev=1,a.next=4,Object(L.a)(Object(j.a)(Object(j.a)({},r),{},{type:f}));case 4:if(l=a.sent,!(l.status==="ok")){a.next=11;break}return p.default.success("\u767B\u5F55\u6210\u529F\uFF01"),a.next=9,te();case 9:return H(),a.abrupt("return");case 11:q(l),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),p.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:T(!1);case 18:case"end":return a.stop()}},o,null,[[1,14]])}));return function(r){return d.apply(this,arguments)}}(),D=N.status,y=N.type;return Object(e.jsxs)("div",{className:t.container,children:[Object(e.jsx)("div",{className:t.lang,children:n.SelectLang&&Object(e.jsx)(n.SelectLang,{})}),Object(e.jsxs)("div",{className:t.content,children:[Object(e.jsxs)("div",{className:t.top,children:[Object(e.jsx)("div",{className:t.header,children:Object(e.jsxs)(W.a,{to:"/",children:[Object(e.jsx)("img",{alt:"logo",className:t.logo,src:"/logo.svg"}),Object(e.jsx)("span",{className:t.title,children:"Ant Design"})]})}),Object(e.jsx)("div",{className:t.desc,children:"Ant Design \u662F\u897F\u6E56\u533A\u6700\u5177\u5F71\u54CD\u529B\u7684 Web \u8BBE\u8BA1\u89C4\u8303"})]}),Object(e.jsxs)("div",{className:t.main,children:[Object(e.jsxs)(Y.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:u.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(o,r){return r.pop()},submitButtonProps:{loading:h,size:"large",style:{width:"100%"}}},onFinish:function(){var d=Object(_.a)(i.a.mark(function o(r){return i.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:ne(r);case 1:case"end":return g.stop()}},o)}));return function(o){return d.apply(this,arguments)}}(),children:[Object(e.jsxs)(O.a,{activeKey:f,onChange:se,children:[Object(e.jsx)(O.a.TabPane,{tab:u.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(O.a.TabPane,{tab:u.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),D==="error"&&y==="account"&&Object(e.jsx)(x,{content:u.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),f==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(R.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(B.a,{className:t.prefixIcon})},placeholder:u.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(R.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(I.a,{className:t.prefixIcon})},placeholder:u.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),D==="error"&&y==="mobile"&&Object(e.jsx)(x,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),f==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(R.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(G.a,{className:t.prefixIcon})},name:"mobile",placeholder:u.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(Z.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(z.a,{className:t.prefixIcon})},captchaProps:{size:"large"},placeholder:u.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(o,r){return o?"".concat(r," ").concat(u.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):u.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var d=Object(_.a)(i.a.mark(function o(r){var l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(L.b)(r);case 2:if(l=a.sent,!(l===!1)){a.next=5;break}return a.abrupt("return");case 5:p.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return a.stop()}},o)}));return function(o){return d.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(K.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(n.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]}),Object(e.jsxs)(C.b,{className:t.other,children:[Object(e.jsx)(n.FormattedMessage,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),Object(e.jsx)(J.a,{className:t.icon}),Object(e.jsx)($.a,{className:t.icon}),Object(e.jsx)(V.a,{className:t.icon})]})]})]}),Object(e.jsx)(w.a,{})]})},ie=M.default=Q}}]);
